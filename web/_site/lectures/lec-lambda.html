<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Haskell @ Club De Science - lec-lambda</title>
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
        <link rel="stylesheet" type="text/css" href="../css/syntax.css" />
    </head>
    <body>
      <h1>Haskell @ Club De Science  - lec-lambda </h1>
        <div id="navigation">
        <a href="../index.html">Home</a>
		<a href="../lectures.html">Lectures</a>
	    <a href="../links.html">Links</a>
        </div>
	<br />
	<br />
	<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt;</span> <span class="kw">module</span> <span class="dt">Lambda</span> <span class="kw">where</span>
<span class="ot">&gt;</span> 
<span class="ot">&gt;</span> <span class="kw">import </span><span class="dt">Debug.Trace</span> (trace) 
<span class="ot">&gt;</span> <span class="kw">import </span><span class="dt">Data.List</span>   (sort)
<span class="ot">&gt;</span> 
<span class="ot">&gt;</span> <span class="kw">type</span> <span class="dt">VarId</span> <span class="fu">=</span> <span class="dt">String</span>
<span class="ot">&gt;</span> 
<span class="ot">&gt;</span> <span class="kw">data</span> <span class="dt">Expr</span> 
<span class="ot">&gt;</span>   <span class="fu">=</span> <span class="dt">EVar</span> <span class="dt">VarId</span>
<span class="ot">&gt;</span>   <span class="fu">|</span> <span class="dt">ELam</span> <span class="dt">VarId</span> <span class="dt">Expr</span>
<span class="ot">&gt;</span>   <span class="fu">|</span> <span class="dt">EApp</span> <span class="dt">Expr</span>  <span class="dt">Expr</span> 
<span class="ot">&gt;</span>   <span class="kw">deriving</span> (<span class="dt">Eq</span>)
<span class="ot">&gt;</span> 
<span class="ot">&gt;</span> <span class="kw">instance</span> <span class="dt">Show</span> <span class="dt">Expr</span> <span class="kw">where</span>
<span class="ot">&gt;</span> 	show (<span class="dt">EVar</span> x)     <span class="fu">=</span> x
<span class="ot">&gt;</span> 	show (<span class="dt">ELam</span> x e)   <span class="fu">=</span> <span class="st">&quot;λ&quot;</span> <span class="fu">++</span> x <span class="fu">++</span> <span class="st">&quot;.&quot;</span> <span class="fu">++</span> show e 
<span class="ot">&gt;</span> 	show (<span class="dt">EApp</span> e1 e2) <span class="fu">=</span> showp e1 <span class="fu">++</span> <span class="st">&quot; &quot;</span> <span class="fu">++</span> showp e2 
<span class="ot">&gt;</span> 
<span class="ot">&gt;</span> showp e<span class="fu">@</span>(<span class="dt">EVar</span> _) <span class="fu">=</span> show e
<span class="ot">&gt;</span> showp e <span class="fu">=</span> <span class="st">&quot;(&quot;</span> <span class="fu">++</span> show e <span class="fu">++</span> <span class="st">&quot;)&quot;</span> 
<span class="ot">&gt;</span> 
<span class="ot">&gt;</span> eid <span class="fu">=</span> <span class="dt">ELam</span> <span class="st">&quot;x&quot;</span> <span class="fu">$</span> <span class="dt">EVar</span> <span class="st">&quot;x&quot;</span></code></pre></div>
<h2 id="booleans">Booleans</h2>
<p>Functions that take two operants and return one</p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt;</span> etrue       <span class="fu">=</span> <span class="dt">ELam</span> <span class="st">&quot;x1&quot;</span> <span class="fu">$</span> <span class="dt">ELam</span> <span class="st">&quot;y1&quot;</span> <span class="fu">$</span> <span class="dt">EVar</span> <span class="st">&quot;x1&quot;</span>
<span class="ot">&gt;</span> efalse      <span class="fu">=</span> <span class="dt">ELam</span> <span class="st">&quot;x2&quot;</span> <span class="fu">$</span> <span class="dt">ELam</span> <span class="st">&quot;y2&quot;</span> <span class="fu">$</span> <span class="dt">EVar</span> <span class="st">&quot;y2&quot;</span>
<span class="ot">&gt;</span> eif b e1 e2 <span class="fu">=</span> <span class="dt">EApp</span> (<span class="dt">EApp</span> b e1) e2 </code></pre></div>
<p>– Quiz! Not</p>
<p>– not true = false – not false = true</p>
<p>in Lambda Calculus</p>
<p>not (.x) = .y not (.y) = .x</p>
<p>Fill in the dots not = y. (…..)</p>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt;</span> enot <span class="fu">=</span> <span class="dt">ELam</span> <span class="st">&quot;b3&quot;</span> <span class="fu">$</span> <span class="dt">ELam</span> <span class="st">&quot;x3&quot;</span> <span class="fu">$</span> <span class="dt">ELam</span> <span class="st">&quot;y3&quot;</span> <span class="fu">$</span> <span class="dt">EApp</span> (<span class="dt">EApp</span> (<span class="dt">EVar</span> <span class="st">&quot;b3&quot;</span>) (<span class="dt">EVar</span> <span class="st">&quot;y3&quot;</span>)) (<span class="dt">EVar</span> <span class="st">&quot;x3&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt;</span> eor <span class="fu">=</span> <span class="dt">ELam</span> <span class="st">&quot;b14&quot;</span> <span class="fu">$</span> <span class="dt">ELam</span> <span class="st">&quot;b24&quot;</span> <span class="fu">$</span> <span class="dt">ELam</span> <span class="st">&quot;x4&quot;</span> <span class="fu">$</span> <span class="dt">ELam</span> <span class="st">&quot;y4&quot;</span> <span class="fu">$</span> 
<span class="ot">&gt;</span>       eif (<span class="dt">EVar</span> <span class="st">&quot;b14&quot;</span>) (<span class="dt">EVar</span> <span class="st">&quot;x4&quot;</span>) (eif (<span class="dt">EVar</span> <span class="st">&quot;b24&quot;</span>) (<span class="dt">EVar</span> <span class="st">&quot;x4&quot;</span>) (<span class="dt">EVar</span> <span class="st">&quot;y4&quot;</span>))</code></pre></div>
<h2 id="pairs">Pairs</h2>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"></code></pre></div>
<div class="sourceCode"><pre class="sourceCode literate literatehaskell"><code class="sourceCode literatehaskell"><span class="ot">&gt;</span> eval ee<span class="fu">@</span>(<span class="dt">EApp</span> (<span class="dt">ELam</span> x e) ex) 
<span class="ot">&gt;</span>   <span class="fu">=</span> eval <span class="fu">$</span> checkUniqueVars ex e <span class="fu">$</span> subst (x, eval ex) e
<span class="ot">&gt;</span> eval (<span class="dt">ELam</span> x e)              
<span class="ot">&gt;</span>   <span class="fu">=</span> <span class="dt">ELam</span> x e 
<span class="ot">&gt;</span> eval (<span class="dt">EApp</span> e1 e2)            
<span class="ot">&gt;</span>   <span class="fu">=</span> eval <span class="fu">$</span> <span class="dt">EApp</span> (eval e1) (eval e2) <span class="co">-- (eval e1) (eval e2) </span>
<span class="ot">&gt;</span> eval (<span class="dt">EVar</span> x)                
<span class="ot">&gt;</span>   <span class="fu">=</span> <span class="dt">EVar</span> x 
<span class="ot">&gt;</span> 
<span class="ot">&gt;</span> 
<span class="ot">&gt;</span> checkUniqueVars e1 e2 <span class="fu">=</span> checkDisjoint (boundVars e1) (boundVars e2)
<span class="ot">&gt;</span> 
<span class="ot">&gt;</span> checkDisjoint e1 e2 e <span class="fu">=</span> go (sort e1) (sort e2)
<span class="ot">&gt;</span>   <span class="kw">where</span> go (x<span class="fu">:</span>xs) (y<span class="fu">:</span>ys) <span class="fu">|</span> x <span class="fu">==</span> y <span class="fu">=</span> error <span class="fu">$</span> <span class="st">&quot;not disjoint&quot;</span> <span class="fu">++</span> show x
<span class="ot">&gt;</span>                          <span class="fu">|</span> x <span class="fu">&lt;</span> y  <span class="fu">=</span> go xs (y<span class="fu">:</span>ys)
<span class="ot">&gt;</span>                          <span class="fu">|</span> y <span class="fu">&lt;</span> x  <span class="fu">=</span> go (x<span class="fu">:</span>xs) ys
<span class="ot">&gt;</span>         go _       _              <span class="fu">=</span> e
<span class="ot">&gt;</span> 
<span class="ot">&gt;</span> boundVars (<span class="dt">ELam</span> x e)   <span class="fu">=</span> x<span class="fu">:</span>boundVars e
<span class="ot">&gt;</span> boundVars (<span class="dt">EVar</span> _)     <span class="fu">=</span> []
<span class="ot">&gt;</span> boundVars (<span class="dt">EApp</span> e1 e2) <span class="fu">=</span> boundVars e1 <span class="fu">++</span> boundVars e2
<span class="ot">&gt;</span> 
<span class="ot">&gt;</span> subst (x, ex) e<span class="fu">@</span>(<span class="dt">EVar</span> y)
<span class="ot">&gt;</span>   <span class="fu">|</span> x <span class="fu">==</span> y    <span class="fu">=</span> ex
<span class="ot">&gt;</span>   <span class="fu">|</span> otherwise <span class="fu">=</span> e
<span class="ot">&gt;</span> subst su<span class="fu">@</span>(x, ex) e<span class="fu">@</span>(<span class="dt">ELam</span> y ey)
<span class="ot">&gt;</span>   <span class="fu">|</span> x <span class="fu">==</span> y    <span class="fu">=</span> e
<span class="ot">&gt;</span>   <span class="fu">|</span> otherwise <span class="fu">=</span> <span class="dt">ELam</span> y (subst su ey)
<span class="ot">&gt;</span> subst su (<span class="dt">EApp</span> e1 e2)
<span class="ot">&gt;</span>               <span class="fu">=</span> <span class="dt">EApp</span> (subst su e1) (subst su e2) </code></pre></div>
    </body>

    <div id="footer"> 
      Site generated with <a href="http://jaspervdj.be/hakyll">hakyll</a>
    </div> 
</html>
